@using Microsoft.AspNetCore.Identity
@using RecipeCube.Data
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager


@if (SignInManager.IsSignedIn(User))
{
            <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Manage/Name" title="Manage">
                @if(User.IsInRole("Admin"))
                {
                    <i class="fa-solid fa-user-gear me-1"></i>
                }else
                {
                    <i class="fa-solid fa-user-tie me-1"></i>
                }
                @User.Identity?.Name
            </a>
    <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Logout"
       asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })"
       onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
        <i class="fa-solid fa-arrow-right-from-bracket me-1"></i>登出
    </a>

    <form id="logout-form" asp-area="Identity" asp-page="/Account/Logout"
          asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })" method="post" class="d-none">
    </form>
}
else
{
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link me-2" asp-area="Identity" asp-page="/Account/Login">
                <i class="fa-solid fa-key opacity-6 text-dark me-1"></i>
                登入
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link me-2" asp-area="Identity" asp-page="/Account/Register">
                <i class="fas fa-user-circle opacity-6 text-dark me-1"></i>
                註冊
            </a>
        </li>
</ul>
}
